import { IAudioNode } from 'standardized-audio-context/src/interfaces/index';
import { TActiveInputConnection, TContext } from 'standardized-audio-context/src/types/index';

export const deleteActiveInputConnection = <T extends TContext>(
    activeInputConnections: Set<TActiveInputConnection<T>>,
    source: IAudioNode<T>,
    output: number
): null | TActiveInputConnection<T> => {
    for (const activeInputConnection of activeInputConnections) {
        if (activeInputConnection[0] === source && activeInputConnection[1] === output) {
            activeInputConnections.delete(activeInputConnection);

            return activeInputConnection;
        }
    }

    return null;
};
