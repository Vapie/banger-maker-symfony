import { AUDIO_NODE_STORE } from 'standardized-audio-context/src/globals';
import { IAudioNode, INativeAudioNodeFaker } from 'standardized-audio-context/src/interfaces/index';
import { TContext, TGetNativeAudioNodeFunction, TNativeAudioNode } from 'standardized-audio-context/src/types/index';
import { getValueForKey } from 'standardized-audio-context/src/helpers/get-value-for-key';

export const getNativeAudioNode: TGetNativeAudioNodeFunction = <T extends TContext, U extends TNativeAudioNode | INativeAudioNodeFaker>(
    audioNode: IAudioNode<T>
): U => {
    return <U>getValueForKey(AUDIO_NODE_STORE, audioNode);
};
