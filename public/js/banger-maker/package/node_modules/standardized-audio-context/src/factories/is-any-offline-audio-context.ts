import { IMinimalOfflineAudioContext, IOfflineAudioContext } from 'standardized-audio-context/src/interfaces/index';
import { TIsAnyOfflineAudioContextFactory, TNativeOfflineAudioContext } from 'standardized-audio-context/src/types/index';

export const createIsAnyOfflineAudioContext: TIsAnyOfflineAudioContextFactory = (contextStore, isNativeOfflineAudioContext) => {
    return (anything): anything is IMinimalOfflineAudioContext | IOfflineAudioContext | TNativeOfflineAudioContext => {
        const nativeContext = contextStore.get(<any>anything);

        return isNativeOfflineAudioContext(nativeContext) || isNativeOfflineAudioContext(anything);
    };
};
