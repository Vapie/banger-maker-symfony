import { assignNativeAudioNodeAudioParamValue } from 'standardized-audio-context/src/helpers/assign-native-audio-node-audio-param-value';
import { assignNativeAudioNodeOption } from 'standardized-audio-context/src/helpers/assign-native-audio-node-option';
import { assignNativeAudioNodeOptions } from 'standardized-audio-context/src/helpers/assign-native-audio-node-options';
import { TNativeBiquadFilterNodeFactory } from 'standardized-audio-context/src/types/index';

export const createNativeBiquadFilterNode: TNativeBiquadFilterNodeFactory = (nativeContext, options) => {
    const nativeBiquadFilterNode = nativeContext.createBiquadFilter();

    assignNativeAudioNodeOptions(nativeBiquadFilterNode, options);

    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'Q');
    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'detune');
    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'frequency');
    assignNativeAudioNodeAudioParamValue(nativeBiquadFilterNode, options, 'gain');

    assignNativeAudioNodeOption(nativeBiquadFilterNode, options, 'type');

    return nativeBiquadFilterNode;
};
